(self.webpackChunkflappy_bird=self.webpackChunkflappy_bird||[]).push([[143],{622:function(t,e,n){var o,r,i;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}i=function(){var t=function t(){function e(t){return r.appendChild(t.dom),t}function n(t){for(var e=0;e<r.children.length;e++)r.children[e].style.display=e===t?"block":"none";o=t}var o=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",(function(t){t.preventDefault(),n(++o%r.children.length)}),!1);var i=(performance||Date).now(),s=i,a=0,c=e(new t.Panel("FPS","#0ff","#002")),u=e(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=e(new t.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:r,addPanel:e,showPanel:n,begin:function(){i=(performance||Date).now()},end:function(){a++;var t=(performance||Date).now();if(u.update(t-i,200),t>s+1e3&&(c.update(1e3*a/(t-s),100),s=t,a=0,l)){var e=performance.memory;l.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){i=this.end()},domElement:r,setMode:n}};return t.Panel=function(t,e,n){var o=1/0,r=0,i=Math.round,s=i(window.devicePixelRatio||1),a=80*s,c=48*s,u=3*s,l=2*s,f=3*s,p=15*s,h=74*s,y=30*s,d=document.createElement("canvas");d.width=a,d.height=c,d.style.cssText="width:80px;height:48px";var b=d.getContext("2d");return b.font="bold "+9*s+"px Helvetica,Arial,sans-serif",b.textBaseline="top",b.fillStyle=n,b.fillRect(0,0,a,c),b.fillStyle=e,b.fillText(t,u,l),b.fillRect(f,p,h,y),b.fillStyle=n,b.globalAlpha=.9,b.fillRect(f,p,h,y),{dom:d,update:function(c,v){o=Math.min(o,c),r=Math.max(r,c),b.fillStyle=n,b.globalAlpha=1,b.fillRect(0,0,a,p),b.fillStyle=e,b.fillText(i(c)+" "+t+" ("+i(o)+"-"+i(r)+")",u,l),b.drawImage(d,f+s,p,h-s,y,f,p,h-s,y),b.fillRect(f+h-s,p,s,y),b.fillStyle=n,b.globalAlpha=.9,b.fillRect(f+h-s,p,s,i((1-c/v)*y))}}},t},"object"===s(e)?t.exports=i():void 0===(r="function"==typeof(o=i)?o.call(e,n,e,t):o)||(t.exports=r)},248:(t,e,n)=>{"use strict";var o,r=n(428),i="PreloadScene",s="GameScene",a="main",c="bkg-day",u="bkg-night",l="bird",f="redbird",p="yellowbird",h=Object.freeze({die:"die",hit:"hit",point:"point",swoosh:"swoosh",wing:"wing"}),y="bestFlappyBirdScore";!function(t){t[t[void 0]=0]="undefined",t[t.preAction=1]="preAction",t[t.action=2]="action",t[t.die=3]="die",t[t.result=4]="result"}(o||(o={}));var d=n(622),b=n.n(d);function v(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var m=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=e,this.initSounds()}var e,n,o;return e=t,(n=[{key:"playDie",value:function(){this.scene.sound.play(h.die)}},{key:"playHit",value:function(){this.scene.sound.play(h.hit)}},{key:"playPoint",value:function(){this.scene.sound.play(h.point)}},{key:"playSwoosh",value:function(){this.scene.sound.play(h.swoosh)}},{key:"playWing",value:function(){this.scene.sound.play(h.wing)}},{key:"initSounds",value:function(){var t=this;Object.keys(h).forEach((function(e){t.scene.sound.add(e)}))}}])&&v(e.prototype,n),o&&v(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),g=2,w=200,O=["blue","red","yellow"],P={key:O[0],frames:l,frameRate:12,repeat:-1},S={key:O[1],frames:f,frameRate:12,repeat:-1},k={key:O[2],frames:p,frameRate:12,repeat:-1};function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function x(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _(t,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_(t,e)}function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=B(t);if(e){var r=B(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return R(this,n)}}function R(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return E(t)}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(i,t);var e,n,o,r=T(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),C(E(e=r.call(this,t,100,287,f)),"isAlive",!0),C(E(e),"keyIndex",0),C(E(e),"physicsEnabled",!1),e.scene=t,e.initialSetup(),e}return e=i,n=[{key:"update",value:function(){var t=Math.min(Math.max(this.body.velocity.y,-w),w);this.rotation=Math.PI*t/1080}},{key:"resetPosition",value:function(){this.setPosition(50,302),this.rotation=0,this.isAlive=!0,this.play({key:O[this.keyIndex],repeat:-1})}},{key:"jump",value:function(){this.rotation=-Math.PI/4,this.body.velocity.y=-w}},{key:"die",value:function(){this.isAlive=!1,this.rotation=Math.PI/4,this.stop()}},{key:"disablePhysics",value:function(){this.physicsEnabled=!1,this.scene.physics.world.disable(this)}},{key:"enablePhysics",value:function(){this.physicsEnabled=!0,this.scene.physics.world.enable(this)}},{key:"initialSetup",value:function(){var t=this;this.createAnimations(),this.play({key:O[this.keyIndex],repeat:-1}),this.setInteractive(),this.on("pointerdown",(function(e){return t.onPointerDown(e)}))}},{key:"createAnimations",value:function(){var t=this;[P,S,k].forEach((function(e){return t.anims.create(e)}))}},{key:"onPointerDown",value:function(t){!this.isAlive||t.wasTouch||this.physicsEnabled||(this.keyIndex=(this.keyIndex+1)%O.length,this.play({key:O[this.keyIndex],repeat:-1}))}}],n&&x(e.prototype,n),o&&x(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(r.Physics.Arcade.Sprite);function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function I(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function M(t,e){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},M(t,e)}function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=z(t);if(e){var r=z(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return N(this,n)}}function N(t,e){if(e&&("object"===D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return L(t)}function L(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}var H=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}(i,t);var e,n,o,r=G(i);function i(t,e,n){var o,s,a,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o=r.call(this,t),s=L(o),c=!1,(a="isScored")in s?Object.defineProperty(s,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[a]=c,o.scene=t,o.score=e,o.nightAlpha=n,o.setup(),o}return e=i,(n=[{key:"pipes",get:function(){return[this.pipeTop,this.pipeBottom]}},{key:"getWidth",value:function(){return this.pipeBottom.width}},{key:"setup",value:function(){var t=150*Math.random()+380,e=this.scene.physics.add.sprite(0,t,a,"pipe-green.png"),n=t-e.height-(80*Math.random()+100)+2*this.score,o=this.scene.physics.add.sprite(0,n,a,"pipe-green.png");o.scaleY=-1;var r=this.scene.add.sprite(0,t,a,"pipe-red.png"),i=this.scene.add.sprite(0,n,a,"pipe-red.png");i.scaleY=-1,r.alpha=this.nightAlpha,i.alpha=this.nightAlpha,e.setImmovable(!0),o.setImmovable(!0),e.body.allowGravity=!1,o.body.allowGravity=!1,this.pipeBottom=e,this.pipeTop=o,this.add(this.pipeBottom),this.add(this.pipeTop),this.add(r),this.add(i)}}])&&I(e.prototype,n),o&&I(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(r.GameObjects.Container);function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function F(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function U(){return U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=X(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},U.apply(this,arguments)}function X(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=q(t)););return t}function Y(t,e){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Y(t,e)}function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=q(t);if(e){var r=q(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return V(this,n)}}function V(t,e){if(e&&("object"===W(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}var K=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y(t,e)}(i,t);var e,n,o,r=J(i);function i(t,e,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(o=r.call(this,t)).scene=t,o.score=e,o.bestScore=n,o.build(),o}return e=i,(n=[{key:"destroy",value:function(){this.scene.tweens.killTweensOf(this.proposal),this.bg.destroy(),this.gameOver.destroy(),this.playerScoreText.destroy(),this.bestScoreText.destroy(),this.proposal.destroy(),U(q(i.prototype),"destroy",this).call(this)}},{key:"build",value:function(){var t=this.scene.game.config,e=t.width,n=t.height;this.bg=this.scene.add.image(+e/2,+n/2,a,"popup.png"),this.gameOver=this.scene.add.image(+e/2,+n/2-42,a,"gameover.png"),this.playerScoreText=this.scene.add.text(+e/2,+n/2,"You scored - ".concat(this.score)),this.bestScoreText=this.scene.add.text(+e/2,+n/2+21,"Best score - ".concat(Math.max(this.score,this.bestScore))),this.proposal=this.scene.add.text(+e/2,+n/2+52,"TAP TO PLAY AGAIN",{fontSize:"20px"}),this.playerScoreText.setOrigin(.5),this.bestScoreText.setOrigin(.5),this.proposal.setOrigin(.5),this.scene.tweens.add({targets:this.proposal,alpha:0,duration:700,ease:"SineInOut",yoyo:!0,repeat:-1})}}])&&F(e.prototype,n),o&&F(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(r.GameObjects.Container);function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function Z(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function $(t,e){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$(t,e)}function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ot(t);if(e){var r=ot(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return et(this,n)}}function et(t,e){if(e&&("object"===Q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return nt(t)}function nt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ot(t){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ot(t)}function rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var it=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$(t,e)}(i,Phaser.GameObjects.Container);var e,n,o,r=tt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),rt(nt(e=r.call(this,t)),"score",0),rt(nt(e),"numbers",[]),e}return e=i,(n=[{key:"updateScore",value:function(t){var e=this;this.destroyNumbers(),this.score=t;var n=t.toString();n.split("").forEach((function(t,o){var r=e.scene.add.image(0,0,a,"".concat(t,".png"));r.setOrigin(.5,.5);var i=(o-Math.floor(n.length/2))*r.width;r.setPosition(i,0),e.add(r),e.numbers.push(r)}))}},{key:"destroyNumbers",value:function(){this.numbers.forEach((function(t){return t.destroy()})),this.numbers=[]}}])&&Z(e.prototype,n),o&&Z(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}();function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}function at(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ct(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ut(t,e){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ut(t,e)}function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ht(t);if(e){var r=ht(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ft(this,n)}}function ft(t,e){if(e&&("object"===st(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return pt(t)}function pt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ht(t){return ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ht(t)}function yt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ut(t,e)}(s,t);var e,n,r,i=lt(s);function s(){var t;at(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return yt(pt(t=i.call.apply(i,[this].concat(n))),"score",0),yt(pt(t),"bestScore",vt()),yt(pt(t),"pipes",[]),yt(pt(t),"state",o.undefined),yt(pt(t),"accumulator",0),yt(pt(t),"frameTime",1e3/60),t}return e=s,(n=[{key:"create",value:function(){this.soundController=new m(this),this.buildBg(),this.buildBase(),this.buildBird(),this.drawScore(),this.updateGameState(o.preAction)}},{key:"update",value:function(t,e){for(this.accumulator+=e;this.accumulator>=this.frameTime;){var n;switch(this.accumulator-=this.frameTime,null===(n=this.stats)||void 0===n||n.update(),this.state){case o.action:this.actionsUpdates();break;case o.die:this.dieUpdates()}}}},{key:"onPointerDown",value:function(t){switch(this.state){case o.action:this.soundController.playWing(),this.bird.jump();break;case o.preAction:this.updateGameState(o.action),this.soundController.playWing(),this.startAction();break;case o.result:this.gameOverPopup.destroy(),this.updateGameState(o.preAction)}}},{key:"actionsUpdates",value:function(){this.updateBird(),this.moveBkg(),this.movePipes()}},{key:"updateBird",value:function(){this.bird.y>380&&this.updateGameState(o.die),this.bird.y<=0&&(this.bird.y=0,this.bird.body.velocity.y=0),this.bird.update()}},{key:"moveBkg",value:function(){var t=bt(this.score);this.bkgDay.tilePositionX+=.8*t,this.bkgNight.tilePositionX+=.8*t,this.base.tilePositionX+=t}},{key:"movePipes",value:function(){var t=this,e=bt(this.score);this.pipes.forEach((function(n){n.x-=e,n.x<=t.bird.x&&!n.isScored&&(n.isScored=!0,t.updateScoreText(++t.score)),n.x<=-n.getWidth()/2&&(n.destroy(),t.pipes.shift(),t.addPipe(),t.updateOverlap())}))}},{key:"dieUpdates",value:function(){this.bird.y>380&&(this.bird.y=400,this.bird.disablePhysics(),this.updateGameState(o.result))}},{key:"updateGameState",value:function(t){if(this.state!==t)switch(this.state=t,this.state){case o.preAction:this.reset(),this.resetBkg();break;case o.result:this.showPopup(),this.changeLocalStorage();break;case o.die:this.soundController.playHit(),this.soundController.playDie(),this.bird.die(),this.stopTweens();break;case o.action:this.startDaySwitching()}}},{key:"startAction",value:function(){this.addPipe(),this.addPipe(),this.addPipe(),this.updateOverlap(),this.hideMessage(),this.bird.enablePhysics(),this.bird.jump()}},{key:"reset",value:function(){this.updateScoreText(0),this.destroyPipes(),this.bird.resetPosition(),this.showMessage()}},{key:"buildBg",value:function(){var t=this;this.bkgDay=this.add.tileSprite(256,256,512,512,c),this.bkgDay.setInteractive(),this.bkgDay.on("pointerdown",(function(e){return t.onPointerDown(e)})),this.bkgNight=this.add.tileSprite(256,256,512,512,u),this.bkgNight.alpha=0}},{key:"buildBase",value:function(){this.base=this.add.tileSprite(160,460,330,112,a,"base.png"),this.base.setDepth(4)}},{key:"buildBird",value:function(){this.bird=new A(this),this.bird.setDepth(2),this.add.existing(this.bird)}},{key:"showPopup",value:function(){this.gameOverPopup=new K(this,this.score,this.bestScore),this.add.existing(this.gameOverPopup)}},{key:"addPipe",value:function(){var t=new H(this,this.score,this.bkgNight.alpha),e=this.pipes.length?this.pipes[this.pipes.length-1].x+200:+this.game.config.width+t.getWidth()/2;t.x=e,this.add.existing(t),this.pipes.push(t)}},{key:"destroyPipes",value:function(){var t;this.pipes.forEach((function(t){return t.destroy()})),this.pipes=[],null===(t=this.overlap)||void 0===t||t.destroy(),this.overlap=null}},{key:"drawScore",value:function(){this.score=0,this.scoreText=new it(this),this.scoreText.setDepth(3),this.scoreText.x=+this.game.config.width/2,this.scoreText.y=50,this.add.existing(this.scoreText)}},{key:"updateScoreText",value:function(t){0!==t&&this.soundController.playPoint(),this.score=t,this.scoreText.updateScore(this.score)}},{key:"showMessage",value:function(){if(this.message)this.message.alpha=1;else{var t=this.game.config,e=t.width,n=t.height;this.message=this.add.image(+e/2,+n/2,a,"message.png")}}},{key:"hideMessage",value:function(){this.message.alpha=0}},{key:"updateOverlap",value:function(){var t,e=this,n=this.pipes.map((function(t){return t.pipes})).flat();null===(t=this.overlap)||void 0===t||t.destroy(),this.overlap=this.physics.add.overlap(this.bird,n,(function(){return e.updateGameState(o.die)}))}},{key:"changeLocalStorage",value:function(){this.bestScore=Math.max(this.score,this.bestScore),localStorage.setItem(y,"".concat(this.bestScore))}},{key:"resetBkg",value:function(){this.bkgDay.tilePositionX=0,this.bkgNight.tilePositionX=0,this.bkgNight.alpha=0}},{key:"stopTweens",value:function(){this.tweens.killTweensOf(this.bkgNight),this.tweens.killTweensOf(this.bkgDay)}},{key:"startDaySwitching",value:function(){this.tweens.add({targets:this.bkgNight,alpha:1,duration:15e3,yoyo:!0,repeat:-1})}},{key:"initStats",value:function(){this.stats=new(b()),document.body.appendChild(this.stats.dom)}}])&&ct(e.prototype,n),r&&ct(e,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(r.Scene),bt=function(t){return g+.1*t},vt=function(){return localStorage.getItem(y)?+localStorage.getItem(y):0};function mt(t){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}function gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ot(t,e){return Ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ot(t,e)}function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=kt(t);if(e){var r=kt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return St(this,n)}}function St(t,e){if(e&&("object"===mt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function kt(t){return kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kt(t)}var jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ot(t,e)}(i,t);var e,n,o,r=Pt(i);function i(){return gt(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"preload",value:function(){}},{key:"create",value:function(){var t=this;this.load.image(c,"./assets/bkg-day.png"),this.load.image(u,"./assets/bkg-night.png"),[a,l,f,p].forEach((function(e){t.load.atlas(e,"./atlases/".concat(e,".png"),"./atlases/".concat(e,".json"))})),Object.keys(h).forEach((function(e){t.load.audio(e,"./sounds/".concat(e,".wav"))})),this.load.on("progress",this.onFileLoadComplete,this),this.load.on("complete",this.onLoadComplete,this),this.load.start()}},{key:"onFileLoadComplete",value:function(t){}},{key:"onLoadComplete",value:function(){this.game.scene.start(s)}}])&&wt(e.prototype,n),o&&wt(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(r.Scene);function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function _t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Tt(t,e){return Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tt(t,e)}function Rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Bt(t);if(e){var r=Bt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Et(this,n)}}function Et(t,e){if(e&&("object"===xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Bt(t){return Bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bt(t)}var Ct=new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tt(t,e)}(a,Phaser.Game);var e,n,o,r=Rt(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=r.call(this,t)).gameConfig=t,e.initializeScenes(),e.scene.start(i),e}return e=a,(n=[{key:"initializeScenes",value:function(){this.scene.add(i,new jt(this.gameConfig)),this.scene.add(s,new dt(this.gameConfig))}}])&&_t(e.prototype,n),o&&_t(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}())({type:r.AUTO,parent:"content",width:288,height:512,backgroundColor:"#353535",scene:[],physics:{default:"arcade",arcade:{gravity:{y:500}}},scale:{mode:r.Scale.FIT,autoCenter:r.Scale.CENTER_BOTH,parent:"content",width:288,height:512}});globalThis.__PHASER_GAME__=Ct}},t=>{var e;e=248,t(t.s=e)}]);