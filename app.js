"use strict";(self.webpackChunkflappy_bird=self.webpackChunkflappy_bird||[]).push([[143],{84:(t,e,n)=>{var r,o=n(428),i="preloadScene",c="gameScene",u="bestFlappyBirdScore";!function(t){t[t[void 0]=0]="undefined",t[t.preAction=1]="preAction",t[t.action=2]="action",t[t.die=3]="die",t[t.result=4]="result"}(r||(r={}));var a=Object.freeze({scoreUpdate:"scoreUpdate",gameOver:"gameOver",gameStart:"gameStart"}),s=2,f=-100;function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(i,Phaser.GameObjects.Container);var e,n,r,o=b(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).init(),e}return e=i,(n=[{key:"pipes",get:function(){return[this.pipeTop,this.pipeBottom]}},{key:"init",value:function(){var t=150*Math.random()+400;this.pipeBottom=this.scene.physics.add.sprite(0,t,"pipe"),this.pipeBottom.body.allowGravity=!1;var e=50*Math.random()-50;this.pipeTop=this.scene.physics.add.sprite(0,e,"pipe"),this.pipeTop.body.allowGravity=!1,this.pipeTop.scaleY=-1,this.add(this.pipeBottom),this.add(this.pipeTop)}}])&&p(e.prototype,n),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=S(t);if(e){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return P(t)}function P(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(i,Phaser.GameObjects.Container);var e,n,r,o=g(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),_(P(e=o.call(this,t)),"pipes",[]),_(P(e),"isLost",!1),e.build(),e}return e=i,(n=[{key:"update",value:function(){var t=this,e=this.scene.scale.height;this.bird&&this.bird.y>e-this.bird.height/2&&(this.scene.physics.world.disable(this.bird),this.disableActions()),this.isLost||(this.pipes.forEach((function(e,n){e.x-=s,e.x<=-26&&(e.destroy(),t.pipes.splice(n,1),t.emit(a.scoreUpdate),t.addPipe(),t.addOverlap())})),this.bkg.tilePositionX+=s)}},{key:"build",value:function(){this.buildBkg(),this.buildBird(),this.addPipe(),this.addPipe(),this.addPipe(),this.addPipe(),this.addOverlap()}},{key:"buildBkg",value:function(){this.bkg=this.scene.add.tileSprite(0,0,288,512,"bkg"),this.bkg.setOrigin(0),this.bkg.setInteractive(),this.bkg.on("pointerdown",this.onBkgClick,this),this.add(this.bkg)}},{key:"buildBird",value:function(){var t=this.scene.scale,e=t.width,n=t.height;this.bird=this.scene.add.image(.2*e,n/2,"bird"),this.scene.physics.add.existing(this.bird),this.add(this.bird)}},{key:"addPipe",value:function(){var t=this.pipes.length?this.pipes[this.pipes.length-1].x+200:300,e=new v(this.scene);e.x=t,this.add(e),this.pipes.push(e)}},{key:"addOverlap",value:function(){var t,e=this,n=this.pipes.map((function(t){return t.pipes})).flat();null===(t=this.overlap)||void 0===t||t.destroy(),this.overlap=this.scene.physics.add.overlap(this.bird,n,(function(){return e.disableActions()}))}},{key:"disableActions",value:function(){this.isLost=!0,this.bkg.disableInteractive(),this.bringToTop(this.bird)}},{key:"onBkgClick",value:function(){this.bird.body.velocity.y=f}}])&&O(e.prototype,n),r&&O(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(t,e){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},B(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=V(t);if(e){var o=V(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(t,e){if(e&&("object"===R(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return C(t)}function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B(t,e)}(i,Phaser.GameObjects.Container);var e,n,r,o=E(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),L(C(e=o.call(this,t)),"score",0),L(C(e),"bestScore",0),e.build(),e}return e=i,(n=[{key:"updateScore",value:function(t){this.score=null!=t?t:this.score+1,this.scoreText.text="Score - ".concat(this.score,"\nBest - ").concat(this.bestScore)}},{key:"build",value:function(){this.drawScore()}},{key:"drawScore",value:function(){this.bestScore=localStorage.getItem(u)?+localStorage.getItem(u):0,this.scoreText=this.scene.add.text(10,10,"Score - ".concat(this.score,"\nBest - ").concat(this.bestScore)),this.scoreText.setDepth(3),this.updateScore(0)}},{key:"updateBestScoreInLocalStorage",value:function(){this.bestScore<this.score&&(this.bestScore=this.score,localStorage.setItem(u,"".concat(this.bestScore)))}}])&&T(e.prototype,n),r&&T(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A(t,e){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},A(t,e)}function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=z(t);if(e){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}function M(t,e){if(e&&("object"===D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}var W=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)}(i,Phaser.Scene);var e,n,r,o=F(i);function i(){return G(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"create",value:function(){this.buildMainView(),this.buildUIView()}},{key:"update",value:function(){var t;null===(t=this.mainView)||void 0===t||t.update()}},{key:"buildMainView",value:function(){this.mainView=new k(this),this.mainView.on(a.scoreUpdate,this.scoreUpdate,this),this.add.existing(this.mainView)}},{key:"buildUIView",value:function(){this.uiView=new I(this),this.add.existing(this.uiView)}},{key:"scoreUpdate",value:function(){var t;null===(t=this.uiView)||void 0===t||t.updateScore()}}])&&U(e.prototype,n),r&&U(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y(t,e){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Y(t,e)}function q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=K(t);if(e){var o=K(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J(this,n)}}function J(t,e){if(e&&("object"===H(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function K(t){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},K(t)}var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y(t,e)}(u,Phaser.Scene);var e,n,r,o=q(u);function u(){return N(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"preload",value:function(){}},{key:"create",value:function(){this.load.image("bkg","src/assets/background-day.png"),this.load.image("bird","src/assets/bluebird-downflap.png"),this.load.image("pipe","src/assets/pipe-1.png"),this.load.on("progress",this.onFileLoadComplete,this),this.load.on("complete",this.onLoadComplete,this),this.load.start()}},{key:"onFileLoadComplete",value:function(t){}},{key:"onLoadComplete",value:function(){this.game.scene.stop(i),this.game.scene.start(c)}}])&&X(e.prototype,n),r&&X(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}();function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tt(t,e){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tt(t,e)}function et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rt(t);if(e){var o=rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nt(this,n)}}function nt(t,e){if(e&&("object"===Z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function rt(t){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rt(t)}new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tt(t,e)}(u,Phaser.Game);var e,n,r,o=et(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=o.call(this,t)).gameConfig=t,e.initializeScenes(),e.scene.start(i),e}return e=u,(n=[{key:"initializeScenes",value:function(){this.scene.add(i,new Q(this.gameConfig)),this.scene.add(c,new W(this.gameConfig))}}])&&$(e.prototype,n),r&&$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}())({transparent:!1,antialiasGL:!1,type:o.WEBGL,width:288,height:512,input:{mouse:{preventDefaultWheel:!1}},scale:{parent:"phaser-game",autoCenter:o.Scale.CENTER_BOTH,mode:o.Scale.FIT},physics:{default:"arcade",arcade:{gravity:{y:500}}},antialias:!0})}},t=>{var e;e=84,t(t.s=e)}]);