(self.webpackChunkflappy_bird=self.webpackChunkflappy_bird||[]).push([[143],{622:function(t,e,n){var o,r,i;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}i=function(){var t=function t(){function e(t){return r.appendChild(t.dom),t}function n(t){for(var e=0;e<r.children.length;e++)r.children[e].style.display=e===t?"block":"none";o=t}var o=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",(function(t){t.preventDefault(),n(++o%r.children.length)}),!1);var i=(performance||Date).now(),a=i,s=0,c=e(new t.Panel("FPS","#0ff","#002")),u=e(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=e(new t.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:r,addPanel:e,showPanel:n,begin:function(){i=(performance||Date).now()},end:function(){s++;var t=(performance||Date).now();if(u.update(t-i,200),t>a+1e3&&(c.update(1e3*s/(t-a),100),a=t,s=0,l)){var e=performance.memory;l.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){i=this.end()},domElement:r,setMode:n}};return t.Panel=function(t,e,n){var o=1/0,r=0,i=Math.round,a=i(window.devicePixelRatio||1),s=80*a,c=48*a,u=3*a,l=2*a,f=3*a,p=15*a,h=74*a,y=30*a,d=document.createElement("canvas");d.width=s,d.height=c,d.style.cssText="width:80px;height:48px";var b=d.getContext("2d");return b.font="bold "+9*a+"px Helvetica,Arial,sans-serif",b.textBaseline="top",b.fillStyle=n,b.fillRect(0,0,s,c),b.fillStyle=e,b.fillText(t,u,l),b.fillRect(f,p,h,y),b.fillStyle=n,b.globalAlpha=.9,b.fillRect(f,p,h,y),{dom:d,update:function(c,v){o=Math.min(o,c),r=Math.max(r,c),b.fillStyle=n,b.globalAlpha=1,b.fillRect(0,0,s,p),b.fillStyle=e,b.fillText(i(c)+" "+t+" ("+i(o)+"-"+i(r)+")",u,l),b.drawImage(d,f+a,p,h-a,y,f,p,h-a,y),b.fillRect(f+h-a,p,a,y),b.fillStyle=n,b.globalAlpha=.9,b.fillRect(f+h-a,p,a,i((1-c/v)*y))}}},t},"object"===a(e)?t.exports=i():void 0===(r="function"==typeof(o=i)?o.call(e,n,e,t):o)||(t.exports=r)},167:(t,e,n)=>{"use strict";var o,r=n(428),i="PreloadScene",a="GameScene",s="bkg-day",c="bkg-night",u="base",l="main",f="bird",p="redbird",h="yellowbird",y=Object.freeze({die:"die",hit:"hit",point:"point",swoosh:"swoosh",wing:"wing"}),d="bestFlappyBirdScore";!function(t){t[t[void 0]=0]="undefined",t[t.preAction=1]="preAction",t[t.action=2]="action",t[t.die=3]="die",t[t.result=4]="result"}(o||(o={}));var b=n(622),v=n.n(b);function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var g=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=e,this.initSounds()}var e,n,o;return e=t,(n=[{key:"playDie",value:function(){this.scene.sound.play(y.die)}},{key:"playHit",value:function(){this.scene.sound.play(y.hit)}},{key:"playPoint",value:function(){this.scene.sound.play(y.point)}},{key:"playSwoosh",value:function(){this.scene.sound.play(y.swoosh)}},{key:"playWing",value:function(){this.scene.sound.play(y.wing)}},{key:"initSounds",value:function(){var t=this;Object.keys(y).forEach((function(e){t.scene.sound.add(e)}))}}])&&m(e.prototype,n),o&&m(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),w=2,O=200,S=["blue","red","yellow"],P={key:S[0],frames:f,frameRate:12,repeat:-1},k={key:S[1],frames:p,frameRate:12,repeat:-1},j={key:S[2],frames:h,frameRate:12,repeat:-1},x=function(t){return w+.1*t},_=function(){return localStorage.getItem(d)?+localStorage.getItem(d):0};function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function T(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function E(t,e){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},E(t,e)}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=D(t);if(e){var r=D(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return C(this,n)}}function C(t,e){if(e&&("object"===R(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return A(t)}function A(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D(t){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},D(t)}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(i,t);var e,n,o,r=B(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),I(A(e=r.call(this,t,100,287,p)),"isAlive",!0),I(A(e),"keyIndex",0),e.scene=t,e.initialSetup(),e}return e=i,n=[{key:"update",value:function(){var t=Math.min(Math.max(this.body.velocity.y,-O),O);this.rotation=Math.PI*t/1080}},{key:"resetPosition",value:function(){this.setPosition(50,302),this.setInteractive(),this.rotation=0,this.isAlive=!0,this.play({key:S[this.keyIndex],repeat:-1})}},{key:"jump",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-O;this.rotation=-Math.PI/4,this.body.velocity.y=t}},{key:"die",value:function(){this.jump(-O),this.isAlive=!1,this.rotation=Math.PI/4,this.stop()}},{key:"disablePhysics",value:function(){this.disableInteractive(),this.scene.physics.world.disable(this)}},{key:"enablePhysics",value:function(){this.disableInteractive(),this.scene.physics.world.enable(this)}},{key:"initialSetup",value:function(){var t=this;this.createAnimations(),this.play({key:S[this.keyIndex],repeat:-1}),this.setInteractive(),this.on("pointerdown",(function(){return t.onPointerDown()}))}},{key:"createAnimations",value:function(){var t=this;[P,k,j].forEach((function(e){return t.anims.create(e)}))}},{key:"onPointerDown",value:function(){this.isAlive&&(this.keyIndex=(this.keyIndex+1)%S.length,this.play({key:S[this.keyIndex],repeat:-1}))}}],n&&T(e.prototype,n),o&&T(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(r.Physics.Arcade.Sprite);function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function N(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=W(t);if(e){var r=W(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return F(this,n)}}function F(t,e){if(e&&("object"===G(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return H(t)}function H(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}var U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}(i,t);var e,n,o,r=z(i);function i(t,e,n){var o,a,s,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o=r.call(this,t),a=H(o),c=!1,(s="isScored")in a?Object.defineProperty(a,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[s]=c,o.scene=t,o.score=e,o.nightAlpha=n,o.setup(),o}return e=i,(n=[{key:"pipes",get:function(){return[this.pipeTop,this.pipeBottom]}},{key:"getWidth",value:function(){return this.pipeBottom.width}},{key:"setup",value:function(){var t=150*Math.random()+380,e=this.scene.physics.add.sprite(0,t,l,"pipe-green.png"),n=t-e.height-(80*Math.random()+100)+2*this.score,o=this.scene.physics.add.sprite(0,n,l,"pipe-green.png");o.scaleY=-1;var r=this.scene.add.sprite(0,t,l,"pipe-red.png"),i=this.scene.add.sprite(0,n,l,"pipe-red.png");i.scaleY=-1,r.alpha=this.nightAlpha,i.alpha=this.nightAlpha,e.setImmovable(!0),o.setImmovable(!0),e.body.allowGravity=!1,o.body.allowGravity=!1,this.pipeBottom=e,this.pipeTop=o,this.add(this.pipeBottom),this.add(this.pipeTop),this.add(r),this.add(i)}}])&&N(e.prototype,n),o&&N(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(r.GameObjects.Container);function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function Y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function J(){return J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=V(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},J.apply(this,arguments)}function V(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Z(t)););return t}function q(t,e){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},q(t,e)}function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Z(t);if(e){var r=Z(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Q(this,n)}}function Q(t,e){if(e&&("object"===X(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Z(t){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Z(t)}var $=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}(i,t);var e,n,o,r=K(i);function i(t,e,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(o=r.call(this,t)).scene=t,o.score=e,o.bestScore=n,o.build(),o}return e=i,(n=[{key:"destroy",value:function(){this.scene.tweens.killTweensOf(this.proposal),this.bg.destroy(),this.gameOver.destroy(),this.playerScoreText.destroy(),this.bestScoreText.destroy(),this.proposal.destroy(),J(Z(i.prototype),"destroy",this).call(this)}},{key:"build",value:function(){var t=this.scene.game.config,e=t.width,n=t.height;this.bg=this.scene.add.image(+e/2,+n/2,l,"popup.png"),this.gameOver=this.scene.add.image(+e/2,+n/2-42,l,"gameover.png"),this.playerScoreText=this.scene.add.text(+e/2,+n/2,"You scored - ".concat(this.score)),this.bestScoreText=this.scene.add.text(+e/2,+n/2+21,"Best score - ".concat(Math.max(this.score,this.bestScore))),this.proposal=this.scene.add.text(+e/2,+n/2+52,"TAP TO PLAY AGAIN",{fontSize:"20px"}),this.playerScoreText.setOrigin(.5),this.bestScoreText.setOrigin(.5),this.proposal.setOrigin(.5),this.scene.tweens.add({targets:this.proposal,alpha:0,duration:700,ease:"SineInOut",yoyo:!0,repeat:-1})}}])&&Y(e.prototype,n),o&&Y(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(r.GameObjects.Container);function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}function et(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function nt(t,e){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nt(t,e)}function ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=at(t);if(e){var r=at(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return rt(this,n)}}function rt(t,e){if(e&&("object"===tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return it(t)}function it(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function at(t){return at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},at(t)}function st(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nt(t,e)}(i,Phaser.GameObjects.Container);var e,n,o,r=ot(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),st(it(e=r.call(this,t)),"score",0),st(it(e),"numbers",[]),e}return e=i,(n=[{key:"updateScore",value:function(t){var e=this;this.destroyNumbers(),this.score=t;var n=t.toString();n.split("").forEach((function(t,o){var r=e.scene.add.image(0,0,l,"".concat(t,".png"));r.setOrigin(.5,.5);var i=(o-Math.floor(n.length/2))*r.width;r.setPosition(i,0),e.add(r),e.numbers.push(r)}))}},{key:"destroyNumbers",value:function(){this.numbers.forEach((function(t){return t.destroy()})),this.numbers=[]}}])&&et(e.prototype,n),o&&et(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}function lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ft(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function pt(t,e){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pt(t,e)}function ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=bt(t);if(e){var r=bt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return yt(this,n)}}function yt(t,e){if(e&&("object"===ut(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dt(t)}function dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bt(t){return bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bt(t)}function vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pt(t,e)}(f,t);var e,n,i,a=ht(f);function f(){var t;lt(this,f);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return vt(dt(t=a.call.apply(a,[this].concat(n))),"score",0),vt(dt(t),"bestScore",_()),vt(dt(t),"pipes",[]),vt(dt(t),"state",o.undefined),vt(dt(t),"accumulator",0),vt(dt(t),"frameTime",1e3/60),t}return e=f,(n=[{key:"create",value:function(){this.soundController=new g(this),this.initStats(),this.buildBg(),this.buildBase(),this.buildBird(),this.drawScore(),this.drawFlash(),this.updateGameState(o.preAction)}},{key:"update",value:function(t,e){for(this.accumulator+=e;this.accumulator>=this.frameTime;){var n;switch(this.accumulator-=this.frameTime,null===(n=this.stats)||void 0===n||n.update(),this.state){case o.action:this.actionsUpdates();break;case o.die:this.dieUpdates()}}}},{key:"onPointerDown",value:function(t){switch(this.state){case o.action:this.soundController.playWing(),this.bird.jump();break;case o.preAction:this.updateGameState(o.action),this.soundController.playWing(),this.startAction();break;case o.result:this.gameOverPopup.destroy(),this.updateGameState(o.preAction)}}},{key:"actionsUpdates",value:function(){this.updateBird(),this.moveBkg(),this.movePipes()}},{key:"updateBird",value:function(){this.bird.y>380&&this.updateGameState(o.die),this.bird.y<=0&&(this.bird.y=0,this.bird.body.velocity.y=0),this.bird.update()}},{key:"moveBkg",value:function(){var t=x(this.score);this.bkgDay.tilePositionX+=.8*t,this.bkgNight.tilePositionX+=.8*t,this.base.tilePositionX+=t}},{key:"movePipes",value:function(){var t=this,e=x(this.score);this.pipes.forEach((function(n){n.x-=e,n.x<=t.bird.x&&!n.isScored&&(n.isScored=!0,t.updateScoreText(++t.score)),n.x<=-n.getWidth()/2&&(n.destroy(),t.pipes.shift(),t.addPipe(),t.updateOverlap())}))}},{key:"dieUpdates",value:function(){this.bird.y>380&&(this.bird.y=400,this.bird.disablePhysics(),this.updateGameState(o.result))}},{key:"updateGameState",value:function(t){if(this.state!==t)switch(this.state=t,this.state){case o.preAction:this.reset(),this.resetBkg();break;case o.result:this.showPopup(),this.changeLocalStorage();break;case o.die:this.soundController.playHit(),this.soundController.playDie(),this.bird.die(),this.flashScreen(),this.stopTweens();break;case o.action:this.startDaySwitching()}}},{key:"startAction",value:function(){this.addPipe(),this.addPipe(),this.addPipe(),this.updateOverlap(),this.hideMessage(),this.bird.enablePhysics(),this.bird.jump()}},{key:"reset",value:function(){this.updateScoreText(0),this.destroyPipes(),this.bird.resetPosition(),this.showMessage()}},{key:"buildBg",value:function(){var t=this;this.bkgDay=this.add.tileSprite(256,256,512,512,s),this.bkgDay.on("pointerdown",(function(e){return t.onPointerDown(e)})),this.bkgNight=this.add.tileSprite(256,256,512,512,c),this.bkgNight.alpha=0}},{key:"buildBase",value:function(){this.base=this.add.tileSprite(160,460,330,112,u),this.base.setDepth(4)}},{key:"buildBird",value:function(){this.bird=new M(this),this.bird.setDepth(2),this.add.existing(this.bird)}},{key:"showPopup",value:function(){this.gameOverPopup=new $(this,this.score,this.bestScore),this.add.existing(this.gameOverPopup)}},{key:"addPipe",value:function(){var t=new U(this,this.score,this.bkgNight.alpha),e=this.pipes.length?this.pipes[this.pipes.length-1].x+200:+this.game.config.width+t.getWidth()/2;t.x=e,this.add.existing(t),this.pipes.push(t)}},{key:"destroyPipes",value:function(){var t;this.pipes.forEach((function(t){return t.destroy()})),this.pipes=[],null===(t=this.overlap)||void 0===t||t.destroy(),this.overlap=null}},{key:"drawScore",value:function(){this.score=0,this.scoreText=new ct(this),this.scoreText.setDepth(3),this.scoreText.x=+this.game.config.width/2,this.scoreText.y=50,this.add.existing(this.scoreText)}},{key:"drawFlash",value:function(){var t=this;this.flash=this.add.graphics(),this.flash.fillStyle(16777215,1),this.flash.fillRect(0,0,+this.game.config.width,+this.game.config.height),this.flash.setDepth(5),this.flash.setInteractive(),this.tweens.add({targets:this.flash,alpha:0,duration:1e3,ease:"Linear",repeat:0,onComplete:function(){t.flash.disableInteractive(),t.bkgDay.setInteractive()}})}},{key:"updateScoreText",value:function(t){0!==t&&this.soundController.playPoint(),this.score=t,this.scoreText.updateScore(this.score)}},{key:"showMessage",value:function(){if(this.message)this.message.alpha=1;else{var t=this.game.config,e=t.width,n=t.height;this.message=this.add.image(+e/2,+n/2,l,"message.png")}}},{key:"hideMessage",value:function(){this.message.alpha=0}},{key:"updateOverlap",value:function(){var t,e=this,n=this.pipes.map((function(t){return t.pipes})).flat();null===(t=this.overlap)||void 0===t||t.destroy(),this.overlap=this.physics.add.overlap(this.bird,n,(function(){return e.updateGameState(o.die)}))}},{key:"changeLocalStorage",value:function(){var t;this.bestScore=Math.max(this.score,this.bestScore),(t=this.bestScore)>_()&&localStorage.setItem(d,t.toString())}},{key:"resetBkg",value:function(){this.bkgDay.tilePositionX=0,this.bkgNight.tilePositionX=0,this.bkgNight.alpha=0}},{key:"stopTweens",value:function(){this.tweens.killTweensOf(this.bkgNight),this.tweens.killTweensOf(this.bkgDay)}},{key:"flashScreen",value:function(){var t=this;this.tweens.add({targets:this.flash,alpha:.7,duration:200,yoyo:!0,ease:r.Math.Easing.Sine.InOut,repeat:0,onComplete:function(){t.flash.alpha=0}})}},{key:"startDaySwitching",value:function(){this.tweens.add({targets:this.bkgNight,alpha:1,duration:15e3,yoyo:!0,repeat:-1})}},{key:"initStats",value:function(){this.stats=new(v()),document.body.appendChild(this.stats.dom)}}])&&ft(e.prototype,n),i&&ft(e,i),Object.defineProperty(e,"prototype",{writable:!1}),f}(r.Scene);function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ot(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function St(t,e){return St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},St(t,e)}function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=jt(t);if(e){var r=jt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return kt(this,n)}}function kt(t,e){if(e&&("object"===gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function jt(t){return jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jt(t)}var xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&St(t,e)}(i,t);var e,n,o,r=Pt(i);function i(){return wt(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"preload",value:function(){}},{key:"create",value:function(){var t=this;this.load.image(s,"./assets/bkg-day.png"),this.load.image(c,"./assets/bkg-night.png"),this.load.image(u,"./assets/base.png"),[l,f,p,h].forEach((function(e){t.load.atlas(e,"./atlases/".concat(e,".png"),"./atlases/".concat(e,".json"))})),Object.keys(y).forEach((function(e){t.load.audio(e,"./sounds/".concat(e,".wav"))})),this.load.on("progress",this.onFileLoadComplete,this),this.load.on("complete",this.onLoadComplete,this),this.load.start()}},{key:"onFileLoadComplete",value:function(t){}},{key:"onLoadComplete",value:function(){this.game.scene.start(a)}}])&&Ot(e.prototype,n),o&&Ot(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}(r.Scene);function _t(t){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(t)}function Rt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Tt(t,e){return Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tt(t,e)}function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ct(t);if(e){var r=Ct(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Bt(this,n)}}function Bt(t,e){if(e&&("object"===_t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ct(t){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ct(t)}var At=new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tt(t,e)}(s,Phaser.Game);var e,n,o,r=Et(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=r.call(this,t)).gameConfig=t,e.initializeScenes(),e.scene.start(i),e}return e=s,(n=[{key:"initializeScenes",value:function(){this.scene.add(i,new xt(this.gameConfig)),this.scene.add(a,new mt(this.gameConfig))}}])&&Rt(e.prototype,n),o&&Rt(e,o),Object.defineProperty(e,"prototype",{writable:!1}),s}())({type:r.AUTO,parent:"content",width:288,height:512,backgroundColor:"#353535",scene:[],physics:{default:"arcade",arcade:{gravity:{y:500}}},scale:{mode:r.Scale.FIT,autoCenter:r.Scale.CENTER_BOTH,parent:"content",width:288,height:512}});globalThis.__PHASER_GAME__=At}},t=>{var e;e=167,t(t.s=e)}]);