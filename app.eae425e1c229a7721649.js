(self.webpackChunkflappy_bird=self.webpackChunkflappy_bird||[]).push([[143],{622:function(t,e,n){var r,o,i;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}i=function(){var t=function t(){function e(t){return o.appendChild(t.dom),t}function n(t){for(var e=0;e<o.children.length;e++)o.children[e].style.display=e===t?"block":"none";r=t}var r=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",(function(t){t.preventDefault(),n(++r%o.children.length)}),!1);var i=(performance||Date).now(),s=i,a=0,c=e(new t.Panel("FPS","#0ff","#002")),u=e(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=e(new t.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:o,addPanel:e,showPanel:n,begin:function(){i=(performance||Date).now()},end:function(){a++;var t=(performance||Date).now();if(u.update(t-i,200),t>s+1e3&&(c.update(1e3*a/(t-s),100),s=t,a=0,l)){var e=performance.memory;l.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){i=this.end()},domElement:o,setMode:n}};return t.Panel=function(t,e,n){var r=1/0,o=0,i=Math.round,s=i(window.devicePixelRatio||1),a=80*s,c=48*s,u=3*s,l=2*s,f=3*s,p=15*s,h=74*s,y=30*s,d=document.createElement("canvas");d.width=a,d.height=c,d.style.cssText="width:80px;height:48px";var b=d.getContext("2d");return b.font="bold "+9*s+"px Helvetica,Arial,sans-serif",b.textBaseline="top",b.fillStyle=n,b.fillRect(0,0,a,c),b.fillStyle=e,b.fillText(t,u,l),b.fillRect(f,p,h,y),b.fillStyle=n,b.globalAlpha=.9,b.fillRect(f,p,h,y),{dom:d,update:function(c,v){r=Math.min(r,c),o=Math.max(o,c),b.fillStyle=n,b.globalAlpha=1,b.fillRect(0,0,a,p),b.fillStyle=e,b.fillText(i(c)+" "+t+" ("+i(r)+"-"+i(o)+")",u,l),b.drawImage(d,f+s,p,h-s,y,f,p,h-s,y),b.fillRect(f+h-s,p,s,y),b.fillStyle=n,b.globalAlpha=.9,b.fillRect(f+h-s,p,s,i((1-c/v)*y))}}},t},"object"===s(e)?t.exports=i():void 0===(o="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o)},297:(t,e,n)=>{"use strict";var r,o=n(428),i="PreloadScene",s="GameScene",a="mainAtlas",c="bkg-day",u="bkg-night",l="bird",f="redbird",p="yellowbird",h="bestFlappyBirdScore";!function(t){t[t[void 0]=0]="undefined",t[t.preAction=1]="preAction",t[t.action=2]="action",t[t.die=3]="die",t[t.result=4]="result"}(r||(r={}));var y=n(622),d=n.n(y),b=2,v=200,m=["blue","red","yellow"],g={key:m[0],frames:l,frameRate:12,repeat:-1},w={key:m[1],frames:f,frameRate:12,repeat:-1},O={key:m[2],frames:p,frameRate:12,repeat:-1};function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=T(t);if(e){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(t,e){if(e&&("object"===P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _(t)}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}function R(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(i,t);var e,n,r,o=j(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),R(_(e=o.call(this,t,100,287,f)),"isAlive",!0),R(_(e),"keyIndex",0),R(_(e),"physicsEnabled",!1),e.scene=t,e.initialSetup(),e}return e=i,n=[{key:"update",value:function(){var t=Math.min(Math.max(this.body.velocity.y,-v),v);this.rotation=Math.PI*t/1080}},{key:"resetPosition",value:function(){this.setPosition(50,302),this.rotation=0,this.isAlive=!0,this.play({key:m[this.keyIndex],repeat:-1})}},{key:"jump",value:function(){this.rotation=-Math.PI/4,this.body.velocity.y=-v}},{key:"die",value:function(){this.isAlive=!1,this.rotation=Math.PI/4,this.stop()}},{key:"disablePhysics",value:function(){this.physicsEnabled=!1,this.scene.physics.world.disable(this)}},{key:"enablePhysics",value:function(){this.physicsEnabled=!0,this.scene.physics.world.enable(this)}},{key:"initialSetup",value:function(){var t=this;this.createAnimations(),this.play({key:m[this.keyIndex],repeat:-1}),this.setInteractive(),this.on("pointerdown",(function(e){return t.onPointerDown(e)}))}},{key:"createAnimations",value:function(){var t=this;[g,w,O].forEach((function(e){return t.anims.create(e)}))}},{key:"onPointerDown",value:function(t){!this.isAlive||t.wasTouch||this.physicsEnabled||(this.keyIndex=(this.keyIndex+1)%m.length,this.play({key:m[this.keyIndex],repeat:-1}))}}],n&&S(e.prototype,n),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Physics.Arcade.Sprite);function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D(t,e)}function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=G(t);if(e){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(t,e){if(e&&("object"===B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return M(t)}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G(t){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G(t)}var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(i,t);var e,n,r,o=C(i);function i(t,e,n){var r,s,a,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r=o.call(this,t),s=M(r),c=!1,(a="isScored")in s?Object.defineProperty(s,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[a]=c,r.scene=t,r.score=e,r.nightAlpha=n,r.setup(),r}return e=i,(n=[{key:"pipes",get:function(){return[this.pipeTop,this.pipeBottom]}},{key:"getWidth",value:function(){return this.pipeBottom.width}},{key:"setup",value:function(){var t=150*Math.random()+380,e=this.scene.physics.add.sprite(0,t,a,"pipe-green.png"),n=t-e.height-(80*Math.random()+100)+2*this.score,r=this.scene.physics.add.sprite(0,n,a,"pipe-green.png");r.scaleY=-1;var o=this.scene.add.sprite(0,t,a,"pipe-red.png"),i=this.scene.add.sprite(0,n,a,"pipe-red.png");i.scaleY=-1,o.alpha=this.nightAlpha,i.alpha=this.nightAlpha,e.setImmovable(!0),r.setImmovable(!0),e.body.allowGravity=!1,r.body.allowGravity=!1,this.pipeBottom=e,this.pipeTop=r,this.add(this.pipeBottom),this.add(this.pipeTop),this.add(o),this.add(i)}}])&&A(e.prototype,n),r&&A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.GameObjects.Container);function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F(){return F="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=H(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},F.apply(this,arguments)}function H(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}function U(t,e){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},U(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=W(t);if(e){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}function Y(t,e){if(e&&("object"===L(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}var J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e)}(i,t);var e,n,r,o=X(i);function i(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t)).scene=t,r.score=e,r.bestScore=n,r.build(),r}return e=i,(n=[{key:"destroy",value:function(){this.scene.tweens.killTweensOf(this.proposal),this.bg.destroy(),this.gameOver.destroy(),this.playerScoreText.destroy(),this.bestScoreText.destroy(),this.proposal.destroy(),F(W(i.prototype),"destroy",this).call(this)}},{key:"build",value:function(){var t=this.scene.game.config,e=t.width,n=t.height;this.bg=this.scene.add.image(+e/2,+n/2,a,"popup.png"),this.gameOver=this.scene.add.image(+e/2,+n/2-42,a,"gameover.png"),this.playerScoreText=this.scene.add.text(+e/2,+n/2,"You scored - ".concat(this.score)),this.bestScoreText=this.scene.add.text(+e/2,+n/2+21,"Best score - ".concat(Math.max(this.score,this.bestScore))),this.proposal=this.scene.add.text(+e/2,+n/2+52,"TAP TO PLAY AGAIN",{fontSize:"20px"}),this.playerScoreText.setOrigin(.5),this.bestScoreText.setOrigin(.5),this.proposal.setOrigin(.5),this.scene.tweens.add({targets:this.proposal,alpha:0,duration:700,ease:"SineInOut",yoyo:!0,repeat:-1})}}])&&z(e.prototype,n),r&&z(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.GameObjects.Container);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function K(t,e){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},K(t,e)}function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tt(t);if(e){var o=tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(t,e){if(e&&("object"===V(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return $(t)}function $(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tt(t){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tt(t)}function et(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K(t,e)}(i,Phaser.GameObjects.Container);var e,n,r,o=Q(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),et($(e=o.call(this,t)),"score",0),et($(e),"numbers",[]),e}return e=i,(n=[{key:"updateScore",value:function(t){var e=this;this.destroyNumbers(),this.score=t;var n=t.toString();n.split("").forEach((function(t,r){var o=e.scene.add.image(0,0,a,"".concat(t,".png"));o.setOrigin(.5,.5);var i=(r-Math.floor(n.length/2))*o.width;o.setPosition(i,0),e.add(o),e.numbers.push(o)}))}},{key:"destroyNumbers",value:function(){this.numbers.forEach((function(t){return t.destroy()})),this.numbers=[]}}])&&q(e.prototype,n),r&&q(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();function rt(t){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(t)}function ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function st(t,e){return st=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},st(t,e)}function at(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=lt(t);if(e){var o=lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ct(this,n)}}function ct(t,e){if(e&&("object"===rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ut(t)}function ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}function ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&st(t,e)}(s,t);var e,n,o,i=at(s);function s(){var t;ot(this,s);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return ft(ut(t=i.call.apply(i,[this].concat(n))),"score",0),ft(ut(t),"bestScore",yt()),ft(ut(t),"pipes",[]),ft(ut(t),"state",r.undefined),ft(ut(t),"accumulator",0),ft(ut(t),"frameTime",1e3/60),t}return e=s,(n=[{key:"create",value:function(){this.buildBg(),this.buildBase(),this.buildBird(),this.drawScore(),this.updateGameState(r.preAction)}},{key:"update",value:function(t,e){for(this.accumulator+=e;this.accumulator>=this.frameTime;){var n;switch(this.accumulator-=this.frameTime,null===(n=this.stats)||void 0===n||n.update(),this.state){case r.action:this.actionsUpdates();break;case r.die:this.dieUpdates()}}}},{key:"onPointerDown",value:function(t){if(!t.wasTouch)switch(this.state){case r.action:this.bird.jump();break;case r.preAction:this.updateGameState(r.action),this.startAction();break;case r.result:this.gameOverPopup.destroy(),this.updateGameState(r.preAction)}}},{key:"actionsUpdates",value:function(){this.updateBird(),this.moveBkg(),this.movePipes()}},{key:"updateBird",value:function(){this.bird.y>380&&this.updateGameState(r.die),this.bird.y<=0&&(this.bird.y=0,this.bird.body.velocity.y=0),this.bird.update()}},{key:"moveBkg",value:function(){var t=ht(this.score);this.bkgDay.tilePositionX+=.8*t,this.bkgNight.tilePositionX+=.8*t,this.base.tilePositionX+=t}},{key:"movePipes",value:function(){var t=this,e=ht(this.score);this.pipes.forEach((function(n){n.x-=e,n.x<=t.bird.x&&!n.isScored&&(n.isScored=!0,t.updateScoreText(++t.score)),n.x<=-n.getWidth()/2&&(n.destroy(),t.pipes.shift(),t.addPipe(),t.updateOverlap())}))}},{key:"dieUpdates",value:function(){this.bird.y>380&&(this.bird.y=400,this.bird.disablePhysics(),this.updateGameState(r.result))}},{key:"updateGameState",value:function(t){if(this.state!==t)switch(this.state=t,this.state){case r.preAction:this.reset(),this.resetBkg();break;case r.result:this.showPopup(),this.changeLocalStorage();break;case r.die:this.bird.die(),this.stopTweens();break;case r.action:this.startDaySwitching()}}},{key:"startAction",value:function(){this.addPipe(),this.addPipe(),this.addPipe(),this.updateOverlap(),this.hideMessage(),this.bird.enablePhysics(),this.bird.jump()}},{key:"reset",value:function(){this.updateScoreText(0),this.destroyPipes(),this.bird.resetPosition(),this.showMessage()}},{key:"buildBg",value:function(){var t=this;this.bkgDay=this.add.tileSprite(256,256,512,512,c),this.bkgDay.setInteractive(),this.bkgDay.on("pointerdown",(function(e){return t.onPointerDown(e)})),this.bkgNight=this.add.tileSprite(256,256,512,512,u),this.bkgNight.alpha=0}},{key:"buildBase",value:function(){this.base=this.add.tileSprite(160,460,330,112,a,"base.png"),this.base.setDepth(4)}},{key:"buildBird",value:function(){this.bird=new E(this),this.bird.setDepth(2),this.add.existing(this.bird)}},{key:"showPopup",value:function(){this.gameOverPopup=new J(this,this.score,this.bestScore),this.add.existing(this.gameOverPopup)}},{key:"addPipe",value:function(){var t=new N(this,this.score,this.bkgNight.alpha),e=this.pipes.length?this.pipes[this.pipes.length-1].x+200:+this.game.config.width+t.getWidth()/2;t.x=e,this.add.existing(t),this.pipes.push(t)}},{key:"destroyPipes",value:function(){var t;this.pipes.forEach((function(t){return t.destroy()})),this.pipes=[],null===(t=this.overlap)||void 0===t||t.destroy(),this.overlap=null}},{key:"drawScore",value:function(){this.score=0,this.scoreText=new nt(this),this.scoreText.setDepth(3),this.scoreText.x=+this.game.config.width/2,this.scoreText.y=50,this.add.existing(this.scoreText)}},{key:"updateScoreText",value:function(t){this.score=t,this.scoreText.updateScore(this.score)}},{key:"showMessage",value:function(){if(this.message)this.message.alpha=1;else{var t=this.game.config,e=t.width,n=t.height;this.message=this.add.image(+e/2,+n/2,a,"message.png")}}},{key:"hideMessage",value:function(){this.message.alpha=0}},{key:"updateOverlap",value:function(){var t,e=this,n=this.pipes.map((function(t){return t.pipes})).flat();null===(t=this.overlap)||void 0===t||t.destroy(),this.overlap=this.physics.add.overlap(this.bird,n,(function(){return e.updateGameState(r.die)}))}},{key:"changeLocalStorage",value:function(){this.bestScore=Math.max(this.score,this.bestScore),localStorage.setItem(h,"".concat(this.bestScore))}},{key:"resetBkg",value:function(){this.bkgDay.tilePositionX=0,this.bkgNight.tilePositionX=0,this.bkgNight.alpha=0}},{key:"stopTweens",value:function(){this.tweens.killTweensOf(this.bkgNight),this.tweens.killTweensOf(this.bkgDay)}},{key:"startDaySwitching",value:function(){this.tweens.add({targets:this.bkgNight,alpha:1,duration:15e3,yoyo:!0,repeat:-1})}},{key:"initStats",value:function(){this.stats=new(d()),document.body.appendChild(this.stats.dom)}}])&&it(e.prototype,n),o&&it(e,o),Object.defineProperty(e,"prototype",{writable:!1}),s}(o.Scene),ht=function(t){return b+.1*t},yt=function(){return localStorage.getItem(h)?+localStorage.getItem(h):0};function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mt(t,e){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mt(t,e)}function gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ot(t);if(e){var o=Ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wt(this,n)}}function wt(t,e){if(e&&("object"===dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ot(t){return Ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ot(t)}var Pt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mt(t,e)}(i,t);var e,n,r,o=gt(i);function i(){return bt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"preload",value:function(){}},{key:"create",value:function(){this.load.image(c,"./assets/bkg-day.png"),this.load.image(u,"./assets/bkg-night.png"),this.load.atlas(a,"./atlases/main.png","./atlases/main.json"),this.load.atlas(l,"./atlases/bird.png","./atlases/bird.json"),this.load.atlas(f,"./atlases/redbird.png","./atlases/redbird.json"),this.load.atlas(p,"./atlases/yellowbird.png","./atlases/yellowbird.json"),this.load.on("progress",this.onFileLoadComplete,this),this.load.on("complete",this.onLoadComplete,this),this.load.start()}},{key:"onFileLoadComplete",value:function(t){}},{key:"onLoadComplete",value:function(){this.game.scene.start(s)}}])&&vt(e.prototype,n),r&&vt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.Scene);function St(t){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},St(t)}function kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jt(t,e){return jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jt(t,e)}function xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tt(t);if(e){var o=Tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _t(this,n)}}function _t(t,e){if(e&&("object"===St(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Tt(t){return Tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tt(t)}var Rt=new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jt(t,e)}(a,Phaser.Game);var e,n,r,o=xt(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t)).gameConfig=t,e.initializeScenes(),e.scene.start(i),e}return e=a,(n=[{key:"initializeScenes",value:function(){this.scene.add(i,new Pt(this.gameConfig)),this.scene.add(s,new pt(this.gameConfig))}}])&&kt(e.prototype,n),r&&kt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}())({type:o.AUTO,parent:"content",width:288,height:512,backgroundColor:"#353535",scene:[],physics:{default:"arcade",arcade:{gravity:{y:500}}},scale:{mode:o.Scale.FIT,autoCenter:o.Scale.CENTER_BOTH,parent:"content",width:288,height:512}});globalThis.__PHASER_GAME__=Rt}},t=>{var e;e=297,t(t.s=e)}]);